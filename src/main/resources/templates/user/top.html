<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Top page</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <link rel="stylesheet" href="/css/top.css" >
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <header class="header">
    <div class="logo">My Portfolio</div>
    <form th:action="@{/logout}" th:method="post">
      <input type="submit" value="ログアウト" class="logout">
    </form>
  </header>

  <div class="container">

    <main>
      <div class="wrapper">
      <!-- 自己紹介 -->
        <div class="profile">
            <div class="profile-header">
              <div class="circle">
                <img th:src="${user.base64ImageData}" alt="User Avatar">
              </div>
              <p th:text="${name}"></p>
            </div>
          <div class="content">
            <div class="title">
              <h2>自己紹介</h2>
            </div>
            <div class="text-area">
              <p th:text="${user.biography}"></p>
            </div>
            <a th:href="@{/user/{id}/edit(id=${user.id})}" class="btn-blue">自己紹介を編集する</a>
          </div>
        </div>
      

      <!-- 学習チャート -->
        <div class="chart">
            <h2 class="second-title" >学習チャート</h2>
            <a th:href="@{/learningData/{userId}/skill(userId=${user.id}, createMonth=${selectedMonth})}" class="btn-blue">編集する</a>
        </div>
      </div>

    </main>

    <!-- グラフエリア -->
    <div class="graph">
      <canvas id="studyChart" ></canvas>
    </div>
  </div>

  <footer>
    <p>portfolio site</p>
  </footer>

  <script th:inline="javascript">
    let userId = /*[[${user.id}]]*/ null;
  </script>
  <script src="/js/chart.js" defer></script>
</body>
</html>